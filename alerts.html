<!-- alerts.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alerts - Milledgeville Alert Map</title>
    <link rel="stylesheet" href="/css/style.css" type="text/css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:,">
</head>
<body>
    <div id="app">
        <header>
            <h1>Alerts - Milledgeville Alert Map</h1>
        </header>
        <div class="controls">
            <button onclick="window.location.href='index.html'">Back to Map</button>
            <div class="desktop-controls">
                <div class="menu-container">
                    <button id="menu-btn" class="menu-btn">Menu ▼</button>
                    <div id="menu-dropdown" class="menu-dropdown">
                        <button onclick="editProfile()">Profile</button>
                        <button id="messages-btn" onclick="fetchMessages('inbox')">Messages</button>
                        <button onclick="showChatPage()">Chat</button>
                        <button onclick="signOut()">Sign Out</button>
                        <button id="admin-btn" onclick="showAdminPanel()" style="display: none;">Admin Panel</button>
                    </div>
                </div>
            </div>
            <div class="mobile-controls" style="display: none;">
                <div class="menu-container">
                    <button id="menu-btn" class="menu-btn">Menu ▼</button>
                    <div id="menu-dropdown" class="menu-dropdown">
                        <button onclick="editProfile()">Profile</button>
                        <button id="mobile-messages-btn" onclick="fetchMessages('inbox')">Messages</button>
                        <button onclick="showChatPage()">Chat</button>
                        <button onclick="signOut()">Sign Out</button>
                        <button id="mobile-admin-btn" onclick="showAdminPanel()" style="display: none;">Admin Panel</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="filter-container">
            <label for="pin-filter">Filter Pins: </label>
            <select id="pin-filter">
                <option value="newest">Newest First</option>
                <option value="oldest">Oldest First</option>
                <option value="myPins">My Pins</option>
            </select>
            <label for="pin-search">Search: </label>
            <input type="text" id="pin-search" placeholder="Search by user">
            <button onclick="fetchPins()">Apply Filter</button>
        </div>
        <div id="pin-list"></div>
        <div id="media-view" style="display: none;">
            <div class="media-container">
                <img id="media-image" style="display: none;" alt="Alert Media">
                <video id="media-video" controls style="display: none;"></video>
                <button onclick="closeMediaView()">Close</button>
            </div>
        </div>
        <div id="profile-view-container" class="profile-view-container" style="display: none;">
            <h2>User Profile</h2>
            <div class="profile-picture-section">
                <img id="view-profile-picture" src="https://via.placeholder.com/150" alt="Profile Picture">
            </div>
            <div class="profile-details">
                <p><strong>Username:</strong> <span id="view-username"></span></p>
                <p><strong>Location:</strong> <span id="view-location"></span></p>
                <p><strong>Current Pins:</strong> <span id="view-pin-count"></span> <span id="view-pin-stars"></span></p>
                <p><strong>Reputation:</strong> <span id="view-reputation"></span></p>
                <p><strong>Badges:</strong> <span id="view-badges"></span></p>
                <div id="reputation-controls" class="reputation-controls">
                    <button onclick="upvoteUser()" class="upvote-btn"></button>
                    <button onclick="downvoteUser()" class="downvote-btn"></button>
                </div>
            </div>
            <input type="text" id="message-input" placeholder="Send a private message..." maxlength="200">
            <button onclick="sendPrivateMessage()">Send Message</button>
            <button onclick="closeProfileView()">Close</button>
        </div>
        <div id="messages-container" class="messages-container desktop-messages" style="display: none;">
            <h3>Private Messages</h3>
            <div class="message-tabs">
                <button id="inbox-btn" class="standard-btn" onclick="fetchMessages('inbox')">Inbox</button>
                <button id="outbox-btn" class="standard-btn" onclick="fetchMessages('outbox')">Outbox</button>
                <button id="trash-btn" class="standard-btn" onclick="fetchMessages('trash')">Trash</button>
            </div>
            <div id="messages-list"></div>
            <button onclick="window.location.href='alerts.html'">Back to Alerts</button>
        </div>
    </div>
    <script src="/js/alerts.js"></script>
</body>
</html>
